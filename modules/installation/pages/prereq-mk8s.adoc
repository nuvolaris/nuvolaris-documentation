= Install MicroK8S in a server

You can install Nuvolaris as xref:install-server.adoc[describe here] and you do not need to install any Kubernetes in it, as it is installed as part of the procedure. In this case it installs K3S. 

But you can <<install-mk8s, install MicroK8S>> instead, if you prefer. Check here for https://microk8s.io/[ informations about MicroK8S]) 

If you install MicroK8S, you can then proceed xref:install-cluster.adoc[installing Nuvolaris in any other Kubernetes cluster].

[#installing-microk8s]
== Installing MicroK8S in a server

Before installing ensure you have xref:prereq-server.adoc[satisfied the prerequisites], most notably:

. you have passwordless access with ssh
. you have an user with passwordless sudo rights
. you have opened the port *16443* in the firewall

Furthermore, since MicroK8S is installed using `snap`, you also need to  https://snapcraft.io/docs/installing-snapd[install `snap`].

[NOTE]
====
While `snap` is available for many linux distributions, it is typically pre-installed and well supported in in Ubuntu and  its derivatives. So we recommend MicroK8S only if you are actually using an Ubuntu-like Linux distribution.
====

If you system is suitable to run MicroK8S you can use the following subcommand to install in the server:

----
nuv cloud mk8s create SERVER=<server> USERNAME=<username>
----

where `<server>` is the internet address or name to access the server, and `<username>` is the user you use to access the server.

Those informations should have been provided when provisioning the server.

[IMPORTANT]
====
If you installed a Kubernetes cluster in the server in this way, you should proceed installing Nuvolars as in xref:install-cluster.adoc[a Kubernetes cluster],  **not** as a server.
====

The installation retrieves also a kubernets configuration file so you can proceed to installing it without any other step involved.

== Additional Commands

In addition to `create` you have available also the following subcommands:

* `nuv cloud k3s delete SERVER=<server> USERNAME=<username>`: uninstall K3S from the server
* `nuv cloud k3s kubeconfig SERVER=<server> USERNAME=<username>`: retrieve the kubeconfig from the K3S server
* `nuv cloud k3s info`: informations about the server
* `nuv cloud k3s status`: status of the server

